<launch>
    
    <node name="JoystickNode" pkg="my_package" type="joystick_node.py" output="screen" />
    <node name="SystemSimulationNode" pkg="my_package" type="system_simulation_node.py" output="screen" /> 
    <node name="PlotterNode" pkg="my_package" type="plotter_node.py" output="screen" /> 
    
    <arg name="Assistance_Active" default="0"/>
    <arg name="Training_Active" default="0"/>
    <arg name="restart_sim" default="0"/>
    <param name="ass_active" type="bool" value="$(arg Assistance_Active)"/>
    <param name="train_active" type="bool" value="$(arg Training_Active)"/>
    <param name="restart_sim" type="bool" value="$(arg restart_sim)"/>
    
    <arg name="record_data" default="false"/>
    <param name="record_data" type="bool" value="$(arg record_data)"/>
    
    <arg name="data_path" default="/home/shivam/Dropbox_Aalto/research_work/codes/assistive_system/dev/realtime_MPC/user_study/data/data.bag"/>  <!-- Default rosbag path -->
    <param name="data_path" type="str" value="$(arg data_path)"/>  <!-- Default rosbag path -->
    
    <node if="$(arg record_data)" pkg="rosbag" type="record" name="record_run" args="-o $(arg data_path) -a" output="screen" />
    
    <node pkg="my_package" type="assistive_control_node.py" name="AssistiveControlNode1" output="screen"/> 
    <!-- Get the data path from ROS parameter server -->
    <!-- Conditional rosbag record node -->
</launch>
